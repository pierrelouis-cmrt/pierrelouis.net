(()=>{const a=document.querySelector(".timeline-filters")||document.querySelector(".post-filters"),s=document.getElementById("clear-filter"),l=document.getElementById("content-timeline")||document.getElementById("posts-timeline")||document.querySelector(".content-timeline");if(!a||!l)return;let c=document.getElementById("no-result");c||(c=Object.assign(document.createElement("p"),{id:"no-result",className:"no-result",style:"display:none;text-align:center;margin-top:2rem;color:var(--text-muted);",textContent:"No result"}),l.after(c));let r="";a.addEventListener("click",n=>{const o=n.target.closest(".timeline-filter, .post-filter");o&&(r=o.id==="clear-filter"||o.dataset.tag===r?"":o.dataset.tag,m())}),s==null||s.addEventListener("click",()=>{r="",m()});function m(){a.querySelectorAll(".timeline-filter, .post-filter").forEach(e=>e.classList.toggle("active",e.dataset.tag===r)),l.querySelectorAll(".timeline-item").forEach(e=>{e.style.display=!r||e.dataset.tag===r?"":"none"});const n=".content-timeline-month, .timeline-month";l.querySelectorAll(n).forEach(e=>{const i=e.querySelector('.timeline-item:not([style*="display: none"])');e.style.display=i?"":"none"});const o=".content-timeline-header, .timeline-header";let t=!1;l.querySelectorAll(o).forEach(e=>{const i=e.querySelector(`${n}:not([style*="display: none"])`);e.style.display=i?"":"none",i&&(t=!0)}),y(),c.style.display=t?"none":"",s&&(s.style.display=r?"":"none")}function y(){const n=".content-timeline-month, .timeline-month",o=".content-timeline-header, .timeline-header";l.querySelectorAll(".timeline-item").forEach(t=>{t.style.borderBottom=""}),l.querySelectorAll(n).forEach(t=>{t.style.borderBottom=""}),l.querySelectorAll(n).forEach(t=>{if(t.style.display==="none")return;const e=[...t.querySelectorAll(".timeline-item")].filter(i=>i.style.display!=="none");e.length&&(e[e.length-1].style.borderBottom="none")}),l.querySelectorAll(o).forEach(t=>{if(t.style.display==="none")return;const e=[...t.querySelectorAll(`:scope ${n}`)].filter(i=>i.style.display!=="none");e.length&&(e[e.length-1].style.borderBottom="none")})}m()})();
